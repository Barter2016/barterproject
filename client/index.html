<!DOCTYPE html>
<html>
<head>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  
  <title>Barter Project</title>

  <!-- Angular JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-route.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-aria.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-messages.min.js"></script>
  
  <!-- Angular Material -->
  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.5/angular-material.min.js"></script>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="//cdn.materialdesignicons.com/1.5.54/css/materialdesignicons.min.css">
  
  <!-- Font awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  
  <!-- AWS SDK -->
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.2.42.min.js"></script>
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- Main JS Files -->
  <script src="js/app.module.js"></script>
  <script src="js/app.routes.js"></script>
  <script src="js/app.themes.js"></script>
  
  <!-- Services -->
  <script src="js/services/AddService.js"></script>
  <script src="js/services/DeleteService.js"></script>
  <script src="js/services/GetService.js"></script>
  <script src="js/services/LocalStorageService.js"></script>
  <script src="js/services/SessionService.js"></script>
  <script src="js/services/UpdateService.js"></script>
  <script src="js/services/UtilService.js"></script>
  
  <!-- Factories -->
  <script src="js/factories/CategoryFactory.js"></script>
  <script src="js/factories/ProductFactory.js"></script>
  <script src="js/factories/FacebookFactory.js"></script>
  <script src="js/factories/AuthFactory.js"></script>
  <script src="js/factories/ProductHistoryFactory.js"></script>
  
  
  <!-- Controllers -->
  <script src="js/controllers/HomeCtrl.js"></script>
  <script src="js/controllers/CatalogueCtrl.js"></script>
  <script src="js/controllers/NotificationsCtrl.js"></script>
  <script src="js/controllers/MenuCtrl.js"></script>
  
  <!-- AWS Cognito Credentials Hardcoded -->
  <script>
    AWS.config.region = 'us-east-1'; // Region
    AWS.config.credentials = new AWS.CognitoIdentityCredentials({
      IdentityPoolId: 'us-east-1:0eb351fe-a9b6-4f00-ab1f-393802d750a5'
    });
  </script>
  
</head>

<body ng-app="BarterApp">
  
  <!-- Facebook init -->
  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '183410368715086',
        xfbml      : true,
        version    : 'v2.5'
      });
    };
  
    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "//connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));
  </script>
  
  <div layout="row" style="height: 100vh;">
    
    <!-- Sidenav -->
    <div ng-controller="MenuCtrl" class="grey-background">
      <md-sidenav class="left-sidenav" md-is-locked-open="$mdMedia('gt-sm')">
      
        <!-- Menu header -->
        <md-toolbar class="md-tall left-sidenav-header">
          <div layout="column" layout-align="center center" class="md-toolbar-tools-bottom inset" ng-class="{'full-height': !auth}">
            <div class="user-avatar">
              <md-icon class="material-icons" style="font-size: 64px; width: 64px; height: 64px;">person</md-icon>
            </div>
            <div ng-if="auth" style="font-weight: bold;">{{ user.name }}</div>
            <div ng-if="auth" style="font-style: oblique;">{{ user.email }}</div>
          </div>
        </md-toolbar>
        
        <!-- Menu content -->
        <md-content class="left-sidenav-content">
          <md-list>
            <md-button ng-if="auth" ng-click="go(item.link)" ng-class="{ first:$first }" ng-repeat="item in menu_items.auth">
              <div layout="row">
                {{ item.title }}
                <span flex></span>
                <md-icon class="material-icons">{{ item.icon }}</md-icon>
              </div>
            </md-button>
            <md-button ng-if="auth" ng-click="signOut()">
              <div layout="row">
                Se d√©connecter
                <span flex></span>
                <md-icon class="material-icons">power_settings_new</md-icon>
              </div>
            </md-button>
            <md-button ng-if="!auth" ng-click="signInWithFacebook()">
              <div layout="row">
                Se connecter - Facebook
                <span flex></span>
                <i class="mdi mdi-facebook-box"></i>
              </div>
            </md-button>
            <md-button ng-if="!auth" ng-click="signInWithGoogle()">
              <div layout="row">
                Se connecter - Google
                <span flex></span>
                <i class="mdi mdi-google-plus-box"></i>
              </div>
            </md-button>
          </md-list>
        </md-content>
        
      </md-sidenav>
    </div>
    
    <div layout="column" flex>
      
      <!-- Toolbar -->
      <md-toolbar class="main-toolbar">
        <div class="md-toolbar-tools">
            
            <span flex></span>
  
            <!-- Title -->
            <h2>
                <span>Test</span>
            </h2>

        </div>
      </md-toolbar>
      
      <!-- Content -->
      <md-content>
        
        <div ng-view></div>
        
      </md-content>
      
    </div>

  </div>
  
</body>
</html>
